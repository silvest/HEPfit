<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
 <link rel="apple-touch-icon" sizes="180x180" href="../../../../images/favicon/apple-touch-icon.png">
 <link rel="icon" type="image/png" sizes="32x32" href="../../../../images/favicon/favicon-32x32.png">
 <link rel="icon" type="image/png" sizes="16x16" href="../../../../images/favicon/favicon-16x16.png">
 <link rel="mask-icon" href="safari-pinned-tab.svg" color="#3b6f74">
 <meta name="msapplication-TileColor" content="#3b6f74">
 <meta name="theme-color" content="#3b6f74">
 <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
 <meta http-equiv="X-UA-Compatible" content="IE=9"/>
 <meta name="generator" content="Doxygen 1.9.2"/>
 <meta name="viewport" content="width=device-width, initial-scale=1"/>
 <title>HEPfit: Installation</title>
 <link href="../../tabs.css" rel="stylesheet" type="text/css"/>
 <script type="text/javascript" src="../../jquery.js"></script>
 <script type="text/javascript" src="../../dynsections.js"></script>
 <link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
 <link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
 <script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
 <link href="../../doxygen.css" rel="stylesheet" type="text/css" />
 <link href="../../customdoxygen.css" rel="stylesheet" type="text/css"/>
 <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
                           extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
                           jax: ["input/TeX","output/HTML-CSS"],
                           tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]},
                           messageStyle: "none"
                           });
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
 <div id="titlearea">
  <table cellspacing="0" cellpadding="5px" width="100%">
   <tbody>
   <tr style="vertical-align: bottom">
    <td id="projectlogo"><a href="https://hepfit.roma1.infn.it/"><img style="height: 80px; margin-bottom: -3px; margin-top: -17px" alt="Logo" src="../../HEPfit-logo-Doxygen.png"/></a>
     <span style="font-size: 36px; font-family: monospace; color: #3b6f74; letter-spacing: 1px" id="projectnumber"> master</span>
    </td>
    <td style="text-align: center;padding-left: 15px">
     <span style="font-size: 22px; font-family: monospace; color: #3b6f74; letter-spacing: 1px; font-weight: bold" id="projectnumber"> a Code for the Combination of Indirect and Direct Constraints on High Energy Physics Models</span>
    </td>
    <td>
     <img style="height: 95px; margin-bottom: -3px; margin-top: -20px; padding-right: 5px;" alt="Logo" src="../../collision.png"/>
    </td>
<!--    <td id="projectalign">-->
<!--     <div id="projectname">-->
<!--      HEPfit-->
      &#160;
<!--      <span style="font-size: 32px; font-family: monospace; float: left" id="projectnumber">master</span>-->
<!--     </div>-->
<!--     <div id="projectbrief">A Code for the Combination of Indirect and Direct Constraints on High Energy Physics Models.</div>-->
<!--    </td>-->
   </tr>
   </tbody>
  </table>
 </div>
 <!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d6/d57/_page_installation.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Installation </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md0">version MASTER</a></li>
<li class="level1"><a href="#autotoc_md1">Dependencies</a></li>
<li class="level1"><a href="#autotoc_md2">Build System</a></li>
<li class="level1"><a href="#autotoc_md3">QUICK Installation Instructions</a></li>
<li class="level1"><a href="#autotoc_md4">Detailed Installation Instructions</a></li>
<li class="level1"><a href="#autotoc_md5">Post Installation</a></li>
</ul>
</div>
<div class="textblock"><p ><a class="anchor" id="md_Doxygen_INSTALL"></a></p>
<h1><a class="anchor" id="autotoc_md0"></a>
version MASTER</h1>
<p >The installation of <code>HEPfit</code> requires the availability of <code>CMake</code> in the system. A description of <code>CMake</code> and the details of how to install it can be found in the <a href="https://cmake.org/"><code>CMake</code> website</a>. Most package managers for Linux distributions should have a <code>CMake</code> package available for installation. For Mac users, it can be either installed from source or from a Unix port like <a href="https://www.macports.org/">Darwin Ports</a> or <a href="http://www.finkproject.org/">Fink</a>, or the installation package can be downloaded from the <a href="https://cmake.org/">CMake website</a>. We list below the dependencies that need to be satisfied to successfully install <code>HEPfit</code>:</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Dependencies</h1>
<ul>
<li><code>GSL</code>: The GNU Scientific Library (<code>GSL</code>) is a <code>C</code> library for numerical computations. It can be found on the <a href="http://www.gnu.org/software/gsl/">GSL website</a>. Most Linux package managers will have a stable version as will any ports for Mac. <code>HEPfit</code> is compatible with <code>GSL</code> v1.16 or greater.</li>
<li><code>ROOT v5</code> or greater: <code>ROOT</code> is an object oriented data analysis framework. You can obtain it from the <a href="http://root.cern.ch/"><code>ROOT</code> website</a>. <code>BAT</code> requires <code>ROOT v5.34.19</code> or greater. Both <code>HEPfit</code> and <code>BAT</code> are compatible with <code>ROOT v6</code>. <b>NOTE</b>: If <code>GSL</code> is installed before compiling <code>ROOT</code> from source, then <code>ROOT</code> builds by default the <code>MathMore</code> library, which depends on <code>GSL</code>. Hence it is recommended to install <code>GSL</code> before installing <code>ROOT</code>.</li>
<li><code>BOOST</code>: <code>BOOST</code> is a <code>C++</code> library which can be obtained from the <a href="http://www.boost.org"><code>BOOST</code> website</a> or from Linux package managers or Mac ports. <code>HEPfit</code> only requires the <code>BOOST</code> headers, not the full libraries, so a header-only installation is sufficient. <code>HEPfit</code> has been tested to work with <code>BOOST</code> v1.53 and greater.</li>
<li><code>MPI</code>: Optionally, <code>HEPfit</code> can be compiled with MPI for usage in parallelized clusters and processors supporting multi-threading. In this case, the <code>HEPfit</code> installer will patch and compile <code>BAT</code> with MPI support as described below. To this purpose one needs <a href="https://www.open-mpi.org/">OpenMPI</a> which is also available through package managers in Linux and ports on Mac.</li>
<li><code>BAT v1.0</code> (not required for the Library mode): The <a href="https://www.mppmu.mpg.de/bat/"><code>BAT</code> website</a> offers the source code for <code>BAT</code> but it should <b>not</b> be used with <code>HEPfit</code> since a patch is required to integrate <code>BAT</code> with <code>HEPfit</code>. With the compilation option <code>-DBAT\_INSTALL=ON</code> explained below, the <code>HEPfit</code> installation package will download, patch and install <code>BAT</code>. The parallelized version of <code>BAT</code> compatible with the parallelized version of <code>HEPfit</code> can be installed with the additional option <code>-DMPIBAT=ON</code> for which MPI must be installed (see "MPI Support" below).</li>
</ul>
<h1><a class="anchor" id="autotoc_md2"></a>
Build System</h1>
<p ><code>HEPfit</code> uses the <a href="https://cmake.org/"><code>CMake</code> build system</a> to compile all the codes and package it into a library (<code>libHEPfit.a</code>) and a header file (<code>HEPfit.h</code>)</p>
<h1><a class="anchor" id="autotoc_md3"></a>
QUICK Installation Instructions</h1>
<p >In a nutshell, if all dependencies are satisfied, for a fully <code>MPI</code> compatible MCMC capable <code>HEPfit</code> installation from the tarball downloaded from the <a href="https://hepfit.roma1.infn.it/"><code>HEPfit</code> website</a>:</p>
<div class="fragment"><div class="line">$ tar xvzf HEPfit-1.0.tar.gz</div>
<div class="line">$ mkdir HEPfit-1.0/build </div>
<div class="line">$ cd HEPfit-1.0/build </div>
<div class="line">$ cmake .. -DLOCAL_INSTALL_ALL=ON -DMPIBAT=ON</div>
<div class="line">$ make</div>
<div class="line">$ make install</div>
</div><!-- fragment --><p >To run your first example:</p>
<div class="fragment"><div class="line">$ cd examples/MonteCarloMode/</div>
<div class="line">$ make  </div>
<div class="line">$ mpiexec -n 5 ./analysis ../config/StandardModel.conf MonteCarlo.conf</div>
</div><!-- fragment --><p >This is all you will need for running a MCMC on 5 cores with the model, parameters and observables specified in the configuration files in <code>examples/config</code> directory with <code>HEPfit</code>. For variations please read what follows.</p>
<h1><a class="anchor" id="autotoc_md4"></a>
Detailed Installation Instructions</h1>
<p >Unpack the tarball containing the <code>HEPfit</code> source which you can obtain from the <a href="https://hepfit.roma1.infn.it/"><code>HEPfit</code> website</a>. A directory called <code>HEPfit-1.0</code> will be created containing the source code. To generate Makefiles, enter the source directory and run <code>CMake</code>:</p>
<div class="fragment"><div class="line">$ cd HEPfit-1.0  </div>
<div class="line">$ cmake . &lt;options&gt;  </div>
</div><!-- fragment --><p ><b>RECOMMENDED:</b> Alternatively, a directory separate from the source directory can be made for building <code>HEPfit</code> (recommended as it allows for easy deletion of the build):</p>
<div class="fragment"><div class="line">$ mkdir HEPfit-1.0/build  </div>
<div class="line">$ cd HEPfit-1.0/build  </div>
<div class="line">$ cmake .. &lt;options&gt;  </div>
</div><!-- fragment --><p >where the available options are:</p>
<ul>
<li><code>-DLOCAL\_INSTALL\_ALL=ON</code>: to install <code>BAT</code> and <code>HEPfit</code> in the current directory (default: OFF). This is equivalent to setting the combination of the options: <div class="fragment"><div class="line">-DCMAKE_INSTALL_PREFIX=./HEPfit -DBAT_INSTALL_DIR=./BAT -DBAT_INSTALL=ON</div>
</div><!-- fragment --> These variables cannot be modified individually when <code>-DLOCAL\_INSTALL\_ALL=ON</code> is set.</li>
<li><code>-DCMAKE\_INSTALL\_PREFIX=&lt;HEPfit installation directory&gt;</code>: the directory in which <code>HEPfit</code> will be installed (default: <code>/usr/local</code>). <br  />
</li>
<li><code>-DNOMCMC=ON</code>: to enable the mode without MCMC (default: OFF).</li>
<li><code>-DDEBUG\_MODE=ON</code>: to enable the debug mode (default: OFF).</li>
<li><code>-DBAT\_INSTALL\_DIR=&lt;BAT installation directory&gt;</code>: (default: <code>/usr/local</code>). This option is overridden by <code>-DLOCAL\_INSTALL\_ALL=ON</code> .</li>
<li><code>-DBAT\_INSTALL=ON</code> to download and install <code>BAT</code>. This is relevant only if <code>-DNOMCMC=ON</code> is not set. Use <code>-DBAT\_INSTALL=OFF</code> only if you know your <code>BAT</code> installation is already patched by <code>HEPfit</code> and is with or without MPI support as needed. (default: ON).</li>
<li><code>-DMPIBAT=ON</code>: to enable support for MPI for both <code>BAT</code> and <code>HEPfit</code> (requires an implementation of MPI, default: OFF).</li>
<li><code>-DMPI\_CXX\_COMPILER=&lt;path to mpi&gt;/mpicxx</code>: You can specify the MPI compiler with this option.</li>
<li><code>-DBOOST\_INCLUDE\_DIR=&lt;boost custom include path&gt;/boost/</code>: if BOOST is not installed in the search path then you can specify where it is with this option. The path must end with the <code>boost/</code> directory which contains the headers.</li>
<li><code>-DGSL\_CONFIG\_DIR=&lt;path to gsl-config&gt;</code>: <code>HEPfit</code> used <code>gsl-config</code> to get the GSL parameters. If this is not in the search path, you can specify it with this option.</li>
<li><code>-DROOT\_CONFIG\_DIR=&lt;path to root-config&gt;</code>: <code>HEPfit</code> used <code>root-config</code> to get the <code>ROOT</code> parameters. If this is not in the search path, you can specify it with this option.</li>
<li><code>-DINTEL\_FORTRAN=ON</code>: If you are compiling with INTEL compilers then this flag turns on support for the compilers (default: OFF).</li>
</ul>
<p >Setting the option <code>-DBAT_INSTALL=ON</code>, the <code>HEPfit</code> installer will download, compile and install the <code>BAT</code> libraries.</p>
<p ><b>NOTE:</b> <br  />
 If <code>BAT</code> libraries and headers are present in target directory for <code>BAT</code> they will be overwritten unless <code>-DBAT\_INSTALL=OFF</code> is set. This is done so that the correct patched version of <code>BAT</code> compatible with <code>HEPfit</code> gets installed.</p>
<p ><b>No MCMC mode:</b> <br  />
 The generated Makefiles are used for building a <code>HEPfit</code> library. If you do not perform a Bayesian statistical analysis with the MCMC, you can use the option <code>-DNOMCMC=ON</code>. For this case, <code>BAT</code> is not required.</p>
<p ><code>MPI</code> <b>Support:</b> <br  />
 If you want to perform an MCMC run with <code>MPI</code> support, you can specify the option <code>-DMPIBAT=ON</code>. This option must not be accompanied with <code>-DBAT_INSTALL=OFF</code> in order to enable the <code>HEPfit</code> installer to download, patch and compile <code>BAT</code> and build <code>HEPfi</code> with MPI support:</p>
<div class="fragment"><div class="line">$ cmake . -DMPIBAT=ON &lt;other options&gt;  </div>
</div><!-- fragment --><p >Please make sure non-MPI <code>BAT</code> libraries are not already installed in the `BAT installation directory.</p>
<p ><code>ROOT</code>: <br  />
 <code>CMake</code> checks for <code>ROOT</code> availability in the system and fails if <code>ROOT</code> is not installed. You can specify the path to <code>root-config</code> using the option <code>-DROOT_CONFIG_DIR=&lt;path to root-config&gt;</code>.</p>
<p ><code>BOOST</code>: <br  />
 <code>CMake</code> also checks for <code>BOOST</code> availability in the system and fails if <code>BOOST</code> is not installed. You can specify the path to the <code>BOOST</code> include files with <code>-DBOOST_INCLUDE_DIR=&lt;boost custom include path&gt;/boost/</code>.</p>
<p >The <b>recommended installation</b> flags for a locally installed <code>HEPfit</code> with full MPI and MCMC support is:</p>
<div class="fragment"><div class="line">$ cmake . -DLOCAL_INSTALL_ALL=ON -DMPIBAT=ON</div>
</div><!-- fragment --><p >This will enable easy portability of all codes and easy upgrading to future version as nothing will be installed system wide. Also, this is useful if you do not have root access and cannot install software in system folders. After successful CMake run, execute the build commands:</p>
<div class="fragment"><div class="line">$ make  </div>
<div class="line">$ make install  </div>
</div><!-- fragment --><p >to compile and install <code>HEPfit</code>, where using the command <code>make VERBOSE=1</code> enables verbose output and <code>make -j</code> allows for parallel compilation (not recommended if you are building <code>BAT</code> with <code>HEPfit</code>). Note that depending on the setting of installation prefix you might need root privileges to be able to install <code>HEPfit</code> with <code>sudo make install</code> instead of just <code>make install</code>.</p>
<h1><a class="anchor" id="autotoc_md5"></a>
Post Installation</h1>
<p >After the completion fo the installation with <code>make install</code> the following three files can be found in the installation location. The file <code>libHEPfit.h</code> is a combined header file corresponding to the library <code>libHEPfit.a</code>.</p>
<p ><b>Executable:</b> <code>&lt;CMAKE_INSTALL_PREFIX&gt;/bin/hepfit-config</code> <br  />
 <b>Library:</b> <code>&lt;CMAKE_INSTALL_PREFIX&gt;/lib/libHEPfit.a</code> <br  />
 <b>Combined Header:</b> <code>&lt;CMAKE_INSTALL_PREFIX&gt;/include/HEPfit/HEPfit.h</code> <br  />
</p>
<p ><b>Using hepfit-config:</b> A <code>hepfit-config</code> script can be found in the <code>&lt;CMAKE_INSTALL_PREFIX&gt;/bin/</code> directory, which can be invoked with the following options:</p>
<ul>
<li><code>--cflags</code>: to obtain the include path needed for compilation against the <code>HEPfit</code> library</li>
<li><code>--libs</code>: to obtain the flags needed for linking against the <code>HEPfit</code> library</li>
</ul>
<p ><b>Examples:</b> <br  />
 The example programs can be found in the <code>HEPfit</code> build directory: <br  />
</p>
<ul>
<li><code>examples/LibMode_config/</code> <br  />
</li>
<li><code>examples/LibMode_header/</code></li>
<li><code>examples/MonteCarloMode/</code></li>
<li><code>examples/EventGeneration/</code></li>
<li><code>examples/myModel/</code></li>
</ul>
<p >The first two demonstrate the usage of the <code>HEPfit</code> library, while the third one can be used for testing a Monte Carlo run with the <code>HEPfit</code> library. The fourth example can be used to generate values of observables with a sample of parameters drawn from the parameter space. The fifth one is an example implementation of a custom model and custom observables. To make an executable to run these examples:</p>
<div class="fragment"><div class="line">$ cd examples/MonteCarloMode/</div>
<div class="line">$ make  </div>
</div><!-- fragment --><p >This will produce an executable called <code>analysis</code> in the current directory that can be used to run <code>HEPfit</code>. The details are elaborated on in the <a class="el" href="../../d0/dde/_page_usage.html">Usage Page</a>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon May 26 2025 for $\texttt{HEPfit}$ using
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
